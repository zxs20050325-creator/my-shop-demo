/* ========================================
   0. 设计系统 (完全保留原始变量)
   ======================================== */
:root {
    --c-primary: #2F4842;    /* 青黛 - 文字/主调 */
    --c-accent: #C1A268;     /* 鎏金 - 强调/按钮 */
    --c-bg: #F2F0EB;         /* 宣纸灰 - 背景 */
    --c-grid: #E0DED9;       /* 网格线 */
    --c-text-light: #8A9A96; /* 辅助文字 */
    --f-serif: 'Noto Serif SC', 'Songti SC', 'SimSun', serif;
    --f-mono: 'Courier New', Courier, monospace;
    --sidebar-width: 80px;
    --img-fade-duration: 1.5s; 
    --img-delay-step: 0.5s;
}

/* ========================================
   1. 基础布局与动画 (完全保留原始代码)
   ======================================== */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    background-color: var(--c-bg); color: var(--c-primary);
    font-family: var(--f-serif); overflow-x: hidden;
    background-image: 
        linear-gradient(var(--c-grid) 1px, transparent 1px),
        linear-gradient(90deg, var(--c-grid) 1px, transparent 1px);
    background-size: 40px 40px; background-position: center top;
}
a { text-decoration: none; color: inherit; }
button { font-family: inherit; }

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
}

.navigation {
    display: flex;
    list-style: none;
}

.navigation li {
    margin-right: 15px;
}

.hero-section {
    text-align: center;
    margin-top: 20px;
}

/* [效果 3]：筑梦大字视差 (垂直增强) */
.hero-section {
    grid-area: hero; padding: 40px 60px 80px; position: relative;
    height: 500px; display: flex; align-items: center; overflow: hidden;
}
.big-typo {
    position: absolute; font-size: 24vw; font-weight: 900;
    color: rgba(47, 72, 66, 0.08); z-index: 0;
    top: -40px; left: -20px; pointer-events: none; line-height: 1;
    /* 丝滑的移动平滑度 */
    transition: transform 0.2s cubic-bezier(0.1, 0.5, 0.2, 1);
}
.hero-card { display: flex; align-items: center; gap: 60px; z-index: 10; width: 100%; }
.hero-image-box { position: relative; width: 400px; height: 400px; }
.hero-image-box::before { content: ''; position: absolute; top: -20px; left: -20px; width: 100%; height: 100%; border: 1px solid var(--c-accent); z-index: -1; }
.hero-img { width: 100%; height: 100%; object-fit: cover; filter: saturate(0.8) contrast(1.1); transition: 0.5s; }
.hero-text h1 { font-size: 42px; margin-bottom: 10px; }
.btn-structural { padding: 12px 30px; background: var(--c-primary); color: #fff; border: none; font-family: var(--f-mono); transition: 0.3s; }
.btn-structural:hover { background: var(--c-accent); padding-left: 40px; }

.product-gallery {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-top: 40px;
}

.gallery-item {
    width: 300px;
    text-align: center;
}

.gallery-item img {
    max-width: 100%;
    height: auto;
}

.gallery-item p {
    margin: 10px 0;
}

.gallery-item button {
    padding: 5px 10px;
    background-color: #8b4513;
    color: white;
    border: none;
    cursor: pointer;
    font-family: var(--f-mono);
}
/* ========================================
   3. 商品网格与 3D 增强 (Content Section)
   ======================================== */
.filter-panel { grid-area: filter; padding: 40px; border-right: 1px dashed var(--c-grid); position: sticky; top: 0; height: 100vh; overflow-y: auto; }
.filter-title { font-family: var(--f-mono); font-size: 12px; color: var(--c-text-light); margin-bottom: 20px; text-transform: uppercase; }
.filter-list button { display: block; width: 100%; text-align: left; background: none; border: none; padding: 10px 0; font-size: 16px; color: #666; transition: 0.3s; position: relative; }
.filter-list button.active { color: var(--c-primary); font-weight: bold; padding-left: 15px; }
.filter-list button.active::before { content: ''; position: absolute; left: 0; top: 50%; width: 6px; height: 6px; background: var(--c-accent); transform: translateY(-50%) rotate(45deg); }

.content-panel { grid-area: content; padding: 40px 60px; display: flex; flex-direction: column; }

/* [效果 1]：3D 倾斜容器配置 */
.product-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); 
    gap: 40px; flex: 1;
    perspective: 1200px; /* 透视距离 */
}
.product-card {
    background: transparent; position: relative;
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform-style: preserve-3d;
}
.p-image-wrap {
    height: 320px; background: #fff; position: relative; overflow: hidden;
    border: 1px solid transparent; transition: 0.3s;
    transform: translateZ(25px); /* 让卡片内容悬浮更明显 */
}
.product-card:hover .p-image-wrap { border-color: var(--c-accent); box-shadow: 15px 15px 0 rgba(44, 74, 71, 0.05); }

.p-tag { position: absolute; top: 0; left: 0; background: var(--c-primary); color: #fff; font-family: var(--f-mono); font-size: 10px; padding: 4px 8px; z-index: 10;}
.p-blindbox-tag { position: absolute; top: 0; right: 0; background: var(--c-accent); color: #fff; font-size: 12px; padding: 4px 8px; writing-mode: vertical-rl; z-index: 10;}

.p-info { margin-top: 15px; display: flex; justify-content: space-between; align-items: flex-end; transform: translateZ(40px); }
.p-price { font-family: var(--f-mono); font-size: 16px; color: var(--c-accent); font-weight: bold; }

.btn-add-cart { margin-top: 10px; width: 100%; padding: 8px; background: #fff; border: 1px solid var(--c-primary); font-size: 12px; opacity: 0; transform: translateY(10px); transition: 0.3s; font-family: var(--f-mono); }
.product-card:hover .btn-add-cart { opacity: 1; transform: translateY(0); }

/* 原有进度条、悬浮球、分页 (完全保留) */
.progress-indicator { position: fixed; top: 0; left: 0; width: 0%; height: 3px; background: var(--c-accent); z-index: 1001; transition: width 0.3s; }
.floating-cart { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--c-primary); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 24px; z-index: 1000; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.cart-count { position: absolute; top: -5px; right: -5px; background: #ff4757; color: white; border-radius: 50%; width: 22px; height: 22px; font-size: 12px; display: flex; justify-content: center; align-items: center; }
.pagination { margin-top: 60px; display: flex; gap: 20px; justify-content: center; font-family: var(--f-mono); }
.page-num { cursor: pointer; color: var(--c-text-light); border-bottom: 2px solid transparent; background: none; border: none; transition: 0.3s; }
.page-num.active, .page-num:hover { color: var(--c-primary); border-bottom-color: var(--c-primary); }

/* 用户操作区域使用英文字体 */
.user-actions { font-family: var(--f-mono); font-size: 12px; margin-left: 20px; display: flex; gap: 20px; }
.user-actions a { position: relative; }
.user-actions a::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 0; height: 1px; background: var(--c-accent); transition: 0.3s; }
.user-actions a:hover::after { width: 100%; }

@media (max-width: 768px) {
    body { cursor: auto !important; } #cursor-ink-dot, #cursor-ink-wash { display: none; }
    .sidebar { display: none; }
    .main-wrapper { margin-left: 0; grid-template-columns: 1fr; grid-template-areas: "top-bar" "hero" "filter" "content"; }
    .filter-panel { position: static; height: auto; display: flex; overflow-x: auto; padding: 20px; border-bottom: 1px solid #ddd; border-right: none; }
    .big-typo { display: none; }
}