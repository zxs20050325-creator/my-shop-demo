<script>
    // æ–°å¢ï¼šè‡ªå®šä¹‰å…‰æ ‡é€»è¾‘
    const cursor = document.createElement('div');
    cursor.classList.add('custom-cursor');
    document.body.appendChild(cursor);

    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
        
        // æ£€æŸ¥æ˜¯å¦æ‚¬åœåœ¨å¯äº¤äº’å…ƒç´ ä¸Š
        const hoverElement = document.elementFromPoint(e.clientX, e.clientY);
        if (hoverElement && (hoverElement.tagName === 'A' || hoverElement.classList.contains('btn-buy') || hoverElement.classList.contains('btn-favorite'))) {
            cursor.classList.add('hover');
        } else {
            cursor.classList.remove('hover');
        }
    });

    // æ–°å¢ï¼šå¹³æ»‘æ»šåŠ¨é€»è¾‘ï¼ˆæ¨¡æ‹ŸLenisæ•ˆæœï¼‰
    let scrollPosition = window.pageYOffset;
    let lastScrollPosition = scrollPosition;
    let scrollDirection = 0;

    function smoothScroll() {
        const currentScroll = window.pageYOffset;
        const delta = currentScroll - scrollPosition;
        scrollDirection = delta > 0 ? 1 : -1;
        
        // ä½¿ç”¨æŒ‡æ•°è¡°å‡æ¥æ¨¡æ‹Ÿé˜»å°¼æ•ˆæœ
        const dampingFactor = 0.1;
        const newScrollPosition = scrollPosition + delta * dampingFactor;
        
        window.scrollTo(0, newScrollPosition);
        
        // æ›´æ–°ä½ç½®
        scrollPosition = newScrollPosition;
        
        // è§¦å‘è§†å·®æ•ˆæœ
        triggerParallax();
        
        requestAnimationFrame(smoothScroll);
    }

    // å¯åŠ¨å¹³æ»‘æ»šåŠ¨
    window.addEventListener('scroll', () => {
        lastScrollPosition = scrollPosition;
    });

    // æ–°å¢ï¼šè§†å·®æ•ˆæœè§¦å‘å™¨
    function triggerParallax() {
        const heroSection = document.querySelector('.page-title');
        if (heroSection) {
            const scrollTop = window.pageYOffset;
            const offset = scrollTop * 0.2;
            heroSection.style.transform = `translateY(${offset}px)`;
        }
    }

    // æ–°å¢ï¼šHeroåŒºåŸŸæ–‡å­—å…¥åœºåŠ¨ç”»
    function animateHeroText() {
        const title = document.querySelector('.page-title h2');
        const words = title.textContent.split('');
        title.textContent = '';
        
        words.forEach((word, index) => {
            const span = document.createElement('span');
            span.textContent = word;
            span.style.opacity = '0';
            span.style.transform = 'translateY(20px)';
            span.style.transition = `all 0.5s cubic-bezier(0.16, 1, 0.3, 1) ${index * 0.1}s`;
            title.appendChild(span);
            
            // ç­‰å¾…æ‰€æœ‰æ–‡å­—åŠ è½½åç»Ÿä¸€æ˜¾ç¤º
            setTimeout(() => {
                span.style.opacity = '1';
                span.style.transform = 'translateY(0)';
            }, 100);
        });
    }

    // æ–°å¢ï¼šåˆ†ç±»æ ‡ç­¾æµä½“äº¤äº’
    function setupFilterAnimation() {
        const filterBtns = document.querySelectorAll('.filter-btn');
        const highlight = document.createElement('div');
        highlight.classList.add('filter-highlight');
        highlight.style.position = 'absolute';
        highlight.style.bottom = '0';
        highlight.style.left = '0';
        highlight.style.width = '0';
        highlight.style.height = '2px';
        highlight.style.backgroundColor = '#5a7d7c';
        highlight.style.transition = 'width 0.3s cubic-bezier(0.16, 1, 0.3, 1)';
        document.getElementById('filter-container').appendChild(highlight);
        
        filterBtns.forEach(btn => {
            btn.addEventListener('mouseenter', () => {
                const rect = btn.getBoundingClientRect();
                const containerRect = document.getElementById('filter-container').getBoundingClientRect();
                const left = rect.left - containerRect.left;
                const width = rect.width;
                
                highlight.style.width = `${width}px`;
                highlight.style.left = `${left}px`;
            });
        });
    }

    // æ–°å¢ï¼šäº§å“å¡ç‰‡é«˜çº§æ‚¬åœåé¦ˆ
    function setupProductCardAnimation() {
        const productCards = document.querySelectorAll('.product-card');
        
        productCards.forEach(card => {
            const img = card.querySelector('.product-img');
            const buyBtn = card.querySelector('.btn-buy');
            
            card.addEventListener('mouseenter', () => {
                // å›¾ç‰‡ç¼©æ”¾
                img.style.transform = 'scale(1.05)';
                img.style.transition = 'transform 0.3s cubic-bezier(0.16, 1, 0.3, 1)';
                
                // ä¿¡æ¯æµ®ç°
                buyBtn.style.opacity = '1';
                buyBtn.style.transform = 'translateY(0)';
                buyBtn.style.transition = 'all 0.3s cubic-bezier(0.16, 1, 0.3, 1)';
                
                // 3Då€¾æ–œæ•ˆæœ
                card.style.transform = 'perspective(1000px) rotateX(5deg) rotateY(5deg)';
            });
            
            card.addEventListener('mouseleave', () => {
                // å›¾ç‰‡æ¢å¤
                img.style.transform = 'scale(1)';
                
                // ä¿¡æ¯éšè—
                buyBtn.style.opacity = '0';
                buyBtn.style.transform = 'translateY(10px)';
                
                // 3Dæ¢å¤
                card.style.transform = 'none';
            });
        });
    }

    // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œåˆå§‹åŒ–
    window.onload = function() {
        checkLoginStatus();
        loadAllProducts();
        trackUserAction('è®¿é—®é¦–é¡µ', 'æµè§ˆå•†å“åˆ—è¡¨');
        
        // åˆå§‹åŒ–å„ç§åŠ¨ç”»æ•ˆæœ
        animateHeroText();
        setupFilterAnimation();
        setupProductCardAnimation();
        
        // å¯åŠ¨å¹³æ»‘æ»šåŠ¨
        smoothScroll();
    };
</script>
<style>
    /* æç®€å¯¼èˆªæ  - å›ºå®šé¡¶éƒ¨çº¿æ¡å¼è®¾è®¡ */
    .navbar {
        position: fixed; top: 0; left: 0; width: 100%;
        background: rgba(253, 251, 247, 0.9); /* ç¨å¾®åŠ æ·±èƒŒæ™¯é¢œè‰² */
        color: #333333;
        padding: 12px 24px;
        display: flex; justify-content: space-between; align-items: center; z-index: 1000;
        backdrop-filter: blur(10px);
        border-bottom: none;
    }

    /* é«˜çº§æœç´¢æ¡†æ ·å¼ */
    .search-container {
        display: flex;
        align-items: center;
        margin: 0 15px;
        flex: 1;
        max-width: 300px;
    }

    .search-input {
        width: 100%;
        padding: 10px 16px;
        border: none;
        background: transparent;
        font-family: inherit;
        font-size: 14px;
        color: #333333;
        transition: all 0.3s ease;
        position: relative;
        z-index: 1;
    }

    .search-input::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5));
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
        z-index: -1;
    }

    .search-input:focus::before {
        transform: scaleX(1);
    }

    .search-btn {
        margin-left: 6px;
        padding: 10px 16px;
        background: #333333;
        color: white;
        border: none;
        border-radius: 0;
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
        transition: opacity 0.2s ease;
        position: relative;
        z-index: 1;
    }

    .search-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5));
        transform: scaleY(0);
        transform-origin: top;
        transition: transform 0.3s ease;
        z-index: -1;
    }

    .search-btn:hover::before {
        transform: scaleY(1);
    }

    /* HeroåŒºåŸŸæ ·å¼ */
    .page-title {
        position: relative;
        height: 100vh;
        background: url('https://via.placeholder.com/1920x1080') no-repeat center center/cover;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        text-align: center;
        font-family: 'Noto Serif SC', 'Songti SC', serif;
        font-size: 48px;
        font-weight: 700;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    /* åˆ†ç±»æ ‡ç­¾æ ·å¼ */
    .filter-container {
        display: flex;
        justify-content: center;
        margin: 24px 0;
        background: #f9f9f9; /* èƒŒæ™¯ç¨å¾®æ·»åŠ ä¸€ç‚¹ç‚¹è‰²å·® */
    }

    .filter-btn {
        padding: 10px 24px;
        background: transparent;
        color: #333333;
        border: 1px solid #e2e8f0;
        border-radius: 24px;
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
        margin: 0 8px;
        transition: background 0.2s ease, color 0.2s ease;
    }

    .filter-btn:hover {
        background: #5a7d7c;
        color: white;
    }

    /* äº§å“å¡ç‰‡æ ·å¼ */
    .product-card {
        width: 300px;
        background: #ffffff; /* çº¯ç™½è‰²èƒŒæ™¯ */
        border: 1px solid #eaeaea; /* æ·»åŠ è½»å¾®è¾¹æ¡† */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* æ·»åŠ é˜´å½±æ•ˆæœ */
        overflow: hidden;
        margin: 12px;
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .product-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .product-info {
        padding: 16px;
        text-align: center;
    }

    .product-name {
        font-size: 18px;
        font-weight: 500;
        margin-bottom: 8px;
    }

    .product-price {
        font-size: 16px;
        color: #5a7d7c;
        margin-bottom: 12px;
    }

    .btn-buy {
        padding: 10px 24px;
        background: #5a7d7c;
        color: white;
        border: none;
        border-radius: 24px;
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .btn-buy:hover {
        background: #4a6d6c;
    }

    /* è‡ªå®šä¹‰å…‰æ ‡æ ·å¼ */
    .custom-cursor {
        position: fixed;
        width: 20px;
        height: 20px;
        background: #5a7d7c;
        border-radius: 50%;
        pointer-events: none;
        transition: transform 0.1s ease, background 0.1s ease;
        z-index: 1000;
    }

    .custom-cursor.hover {
        transform: scale(1.5);
        background: #4a6d6c;
    }

    /* åˆ†ç±»æ ‡ç­¾é«˜äº®æ ·å¼ */
    .filter-highlight {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: #5a7d7c;
        transition: width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* ä¿®æ”¹ä¾§è¾¹æ æ ·å¼ */
    .sidebar {
        background: #ffffff; /* æ”¹ä¸ºçº¯ç™½è‰²èƒŒæ™¯ */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* æ·»åŠ é˜´å½±æ•ˆæœ */
    }

    /* å•†å“åˆ†ç±»èƒŒæ™¯æ·»åŠ è‰²å·® */
    .filter-container {
        background: #f9f9f9; /* èƒŒæ™¯ç¨å¾®æ·»åŠ ä¸€ç‚¹ç‚¹è‰²å·® */
    }

    /* æ¯ä¸ªå•†å“èƒŒæ™¯ä¹Ÿæœ‰ä¸€ç‚¹ç‚¹è‰²å·® */
    .product-card {
        background: #ffffff; /* çº¯ç™½è‰²èƒŒæ™¯ */
        border: 1px solid #eaeaea; /* æ·»åŠ è½»å¾®è¾¹æ¡† */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* æ·»åŠ é˜´å½±æ•ˆæœ */
    }

    /* å¤§çš„é¢œè‰²èƒŒæ™¯ */
    .main-layout {
        background: #f5f5f5; /* è®¾ç½®ä¸€ä¸ªå¤§çš„é¢œè‰²èƒŒæ™¯ */
    }

    /* æœç´¢æ¡†3Dæ•ˆæœå’ŒåŠ¨æ€ç‰¹æ•ˆ */
    .search-input {
        width: 100%;
        padding: 10px 16px;
        border: none;
        background: transparent;
        font-family: inherit;
        font-size: 14px;
        color: #333333;
        transition: all 0.3s ease;
        position: relative;
        z-index: 1;
    }

    .search-input::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5));
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
        z-index: -1;
    }

    .search-input:focus::before {
        transform: scaleX(1);
    }

    .search-btn {
        margin-left: 6px;
        padding: 10px 16px;
        background: #333333;
        color: white;
        border: none;
        border-radius: 0;
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
        transition: opacity 0.2s ease;
        position: relative;
        z-index: 1;
    }

    .search-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5));
        transform: scaleY(0);
        transform-origin: top;
        transition: transform 0.3s ease;
        z-index: -1;
    }

    .search-btn:hover::before {
        transform: scaleY(1);
    }
</style>

<body>
    <div class="main-layout">
        <div class="sidebar">
            <!-- å·¦ä¾§å¯¼èˆªæ å†…å®¹ -->
        </div>
        <div class="container">
            <div class="navbar">
                <div style="font-size: 18px; font-weight: 500; color: #333333; font-family: 'Noto Serif SC', 'Songti SC', serif;">ğŸ›ï¸ å†€é—ç­‘æ¢¦</div>
                <div class="nav-links" id="auth-section">
                    <!-- JSå¡«å…… -->
                </div>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="æœç´¢å•†å“...">
                <button class="search-btn">æœç´¢</button>
            </div>
            <div class="page-title">
                <h2>æ¬¢è¿æ¥åˆ°å†€é—ç­‘æ¢¦</h2>
            </div>
            <div class="filter-container" id="filter-container">
                <button class="filter-btn">å…¨éƒ¨</button>
                <button class="filter-btn">å¤ç±</button>
                <button class="filter-btn">è‰ºæœ¯å“</button>
                <button class="filter-btn">æ‰‹å·¥è‰ºå“</button>
            </div>
            <div class="product-list" id="product-list">
                <!-- JSå¡«å…… -->
            </div>
        </div>
    </div>
</body>